"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_migue_OneDrive_Documents_GitHub_resume_ats_reviewer_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze/route.ts */ \"(rsc)/./app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\migue\\\\OneDrive\\\\Documents\\\\GitHub\\\\resume-ats-reviewer\\\\app\\\\api\\\\analyze\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_migue_OneDrive_Documents_GitHub_resume_ats_reviewer_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/analyze/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtaWd1ZSU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDR2l0SHViJTVDcmVzdW1lLWF0cy1yZXZpZXdlciU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDbWlndWUlNUNPbmVEcml2ZSU1Q0RvY3VtZW50cyU1Q0dpdEh1YiU1Q3Jlc3VtZS1hdHMtcmV2aWV3ZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDK0M7QUFDNUg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN1bWUtYXRzLXJldmlld2VyLz8yNGZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG1pZ3VlXFxcXE9uZURyaXZlXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxccmVzdW1lLWF0cy1yZXZpZXdlclxcXFxhcHBcXFxcYXBpXFxcXGFuYWx5emVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FuYWx5emUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXplXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hbmFseXplL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcbWlndWVcXFxcT25lRHJpdmVcXFxcRG9jdW1lbnRzXFxcXEdpdEh1YlxcXFxyZXN1bWUtYXRzLXJldmlld2VyXFxcXGFwcFxcXFxhcGlcXFxcYW5hbHl6ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hbmFseXplL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analyze/route.ts":
/*!**********************************!*\
  !*** ./app/api/analyze/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/analyze */ \"(rsc)/./lib/analyze.ts\");\n// app/api/analyze/route.ts\n\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\n/* ------------------------------ utils ------------------------------ */ function json(status1, body1) {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(body1, {\n        status: status1\n    });\n}\n/** Pure Node PDF text extraction (no workers/canvas). */ async function extractPdfText(ab) {\n    const data = ab instanceof Uint8Array ? ab : new Uint8Array(ab);\n    try {\n        // Load pdf-parse at runtime so Next never bundles it (avoids ENOENT/test fixture issues)\n        // eslint-disable-next-line no-eval\n        const req = eval(\"require\");\n        const pdfParseMod = req(\"pdf-parse\");\n        const pdfParse = pdfParseMod.default ?? pdfParseMod;\n        const out = await pdfParse(Buffer.from(data));\n        const text = typeof out?.text === \"string\" ? out.text : \"\";\n        if (text) return text;\n    } catch (err) {\n    // Quietly fall through to UTF-8 decode; no noisy warnings during dev\n    }\n    // Last resort: naive UTF-8 decode\n    return new TextDecoder().decode(data);\n}\n/** Read File|string|null -> UTF-8 text; parse PDFs when appropriate */ async function fileToTextSmart(v1) {\n    if (!v1) return {\n        text: \"\"\n    };\n    if (typeof v1 === \"string\") return {\n        text: v1\n    };\n    // @ts-ignore - Next's File polyfill\n    const name1 = v1?.name;\n    // @ts-ignore\n    const type1 = v1?.type;\n    const looksPdf1 = type1 && type1.includes(\"application/pdf\") || name1 && name1.toLowerCase().endsWith(\".pdf\");\n    // Prefer arrayBuffer (works with Next File polyfill)\n    // @ts-ignore\n    if (typeof v1.arrayBuffer === \"function\") {\n        // @ts-ignore\n        const ab1 = await v1.arrayBuffer();\n        const byteLen1 = ab1?.byteLength ?? 0;\n        if (looksPdf1 && byteLen1 > 0) {\n            const text1 = await extractPdfText(ab1);\n            return {\n                text: text1,\n                name: name1,\n                type: type1\n            };\n        }\n        const decoded1 = byteLen1 > 0 ? new TextDecoder().decode(ab1) : \"\";\n        return {\n            text: decoded1,\n            name: name1,\n            type: type1\n        };\n    }\n    // Fallback to .text()\n    // @ts-ignore\n    if (typeof v1.text === \"function\") {\n        // @ts-ignore\n        const t1 = await v1.text();\n        return {\n            text: t1,\n            name: name1,\n            type: type1\n        };\n    }\n    return {\n        text: \"\",\n        name: name1,\n        type: type1\n    };\n}\nasync function readForm(req1) {\n    const form1 = await req1.formData();\n    const resumeTextField1 = form1.get(\"resume_text\") || \"\";\n    const jdTextField1 = form1.get(\"jd_text\") || \"\";\n    const resumeVal1 = form1.get(\"resume\");\n    const jdVal1 = form1.get(\"jd\");\n    const { text: resumeAuto1 } = await fileToTextSmart(resumeVal1);\n    const { text: jdAuto1 } = await fileToTextSmart(jdVal1);\n    const resumeText1 = resumeTextField1 || resumeAuto1 || \"\";\n    const jd1 = jdTextField1 || jdAuto1 || \"\";\n    const weightsRaw1 = form1.get(\"weights\") || \"\";\n    const redactPII1 = String(form1.get(\"redact_pii\") ?? \"false\").toLowerCase() === \"true\";\n    let weights1;\n    if (weightsRaw1) {\n        try {\n            weights1 = JSON.parse(weightsRaw1);\n        } catch  {}\n    }\n    return {\n        resumeText: resumeText1,\n        jd: jd1,\n        weights: weights1,\n        redactPII: redactPII1\n    };\n}\nasync function readJson(req1) {\n    const body1 = await req1.json().catch(()=>({}));\n    const resumeText1 = body1?.resumeText ?? body1?.resume ?? \"\";\n    const jd1 = body1?.jd ?? body1?.jobDescription ?? \"\";\n    const weights1 = body1?.weights;\n    const redactPII1 = Boolean(body1?.redactPII ?? body1?.redact_pii ?? false);\n    return {\n        resumeText: resumeText1,\n        jd: jd1,\n        weights: weights1,\n        redactPII: redactPII1\n    };\n}\n/* ------------------------------ handlers ------------------------------ */ async function OPTIONS() {\n    return new Response(null, {\n        status: 204,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"POST,OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n        }\n    });\n}\nasync function POST(req1) {\n    try {\n        const ct1 = req1.headers.get(\"content-type\") ?? \"\";\n        let resumeText1 = \"\", jd1 = \"\";\n        let weights1;\n        let redactPII1 = false;\n        if (ct1.includes(\"multipart/form-data\")) {\n            ({ resumeText: resumeText1, jd: jd1, weights: weights1, redactPII: redactPII1 } = await readForm(req1));\n        } else if (ct1.includes(\"application/json\")) {\n            ({ resumeText: resumeText1, jd: jd1, weights: weights1, redactPII: redactPII1 } = await readJson(req1));\n        } else if (ct1.includes(\"text/plain\")) {\n            const text1 = await req1.text();\n            const [resPart1, jdPart1] = text1.split(/\\n---+\\n/);\n            resumeText1 = resPart1?.trim() || \"\";\n            jd1 = jdPart1?.trim() || \"\";\n        } else {\n            try {\n                ({ resumeText: resumeText1, jd: jd1, weights: weights1, redactPII: redactPII1 } = await readForm(req1));\n            } catch  {\n                ({ resumeText: resumeText1, jd: jd1, weights: weights1, redactPII: redactPII1 } = await readJson(req1));\n            }\n        }\n        // Optional single-field smoke test: { text }\n        if (!resumeText1 && !jd1) {\n            try {\n                const b1 = await req1.json();\n                if (typeof b1?.text === \"string\" && b1.text.trim()) {\n                    resumeText1 = b1.text;\n                    jd1 = b1.text;\n                }\n            } catch  {}\n        }\n        if (!resumeText1 || !jd1) {\n            return json(400, {\n                error: \"Provide both resume and JD (text or file).\"\n            });\n        }\n        const mergedWeights1 = {\n            ats: weights1?.ats ?? 0.3,\n            keyword_match: weights1?.keyword_match ?? 0.35,\n            impact: weights1?.impact ?? 0.2,\n            clarity: weights1?.clarity ?? 0.15\n        };\n        const input1 = {\n            resumeText: resumeText1,\n            jd: jd1,\n            weights: mergedWeights1,\n            redactPII: redactPII1\n        };\n        const out1 = (0,_lib_analyze__WEBPACK_IMPORTED_MODULE_1__.analyze)(input1);\n        return json(200, out1);\n    } catch (err1) {\n        console.error(\"Fatal error in /api/analyze\", err1);\n        return json(500, {\n            error: \"Internal error in /api/analyze\",\n            detail: String(err1?.message || err1)\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SVAsSUFBSTtnQkFDeEIsSUFBSSxPQUFPaUUsSUFBR2xELFNBQVMsWUFBWWtELEdBQUVsRCxJQUFJLENBQUNpRCxJQUFJLElBQUk7b0JBQ2hEdEIsY0FBYXVCLEdBQUVsRCxJQUFJO29CQUNuQjRCLE1BQUtzQixHQUFFbEQsSUFBSTtnQkFDYjtZQUNGLEVBQUUsT0FBTSxDQUFDO1FBQ1g7UUFFQSxJQUFJLENBQUMyQixlQUFjLENBQUNDLEtBQUk7WUFDdEIsT0FBTzNDLEtBQUssS0FBSztnQkFBRWtFLE9BQU87WUFBNkM7UUFDekU7UUFFQSxNQUFNQyxpQkFBbUQ7WUFDdkRDLEtBQWVyQixVQUFTcUIsT0FBTztZQUMvQkMsZUFBZXRCLFVBQVNzQixpQkFBaUI7WUFDekNDLFFBQWV2QixVQUFTdUIsVUFBVTtZQUNsQ0MsU0FBZXhCLFVBQVN3QixXQUFXO1FBQ3JDO1FBRUEsTUFBTUMsU0FBc0I7WUFBRTlCLFlBQUFBO1lBQVlDLElBQUFBO1lBQUlJLFNBQVNvQjtZQUFldEIsV0FBQUE7UUFBVTtRQUNoRixNQUFNakMsT0FBcUJmLHFEQUFPQSxDQUFDMkU7UUFDbkMsT0FBT3hFLEtBQUssS0FBS1k7SUFDbkIsRUFBRSxPQUFPSSxNQUFVO1FBQ2pCeUQsUUFBUVAsS0FBSyxDQUFDLCtCQUErQmxEO1FBQzdDLE9BQU9oQixLQUFLLEtBQUs7WUFBRWtFLE9BQU87WUFBa0NRLFFBQVE1QixPQUFPOUIsTUFBSzJELFdBQVczRDtRQUFLO0lBQ2xHO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN1bWUtYXRzLXJldmlld2VyLy4vYXBwL2FwaS9hbmFseXplL3JvdXRlLnRzPzQ2YmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2FwaS9hbmFseXplL3JvdXRlLnRzXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHR5cGUgeyBBbmFseXplSW5wdXQsIEFuYWx5emVPdXRwdXQgfSBmcm9tIFwiQC9saWIvYW5hbHl6ZVwiO1xyXG5pbXBvcnQgeyBhbmFseXplIH0gZnJvbSBcIkAvbGliL2FuYWx5emVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBydW50aW1lID0gXCJub2RlanNcIjtcclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSBcImZvcmNlLWR5bmFtaWNcIjtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB1dGlscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmZ1bmN0aW9uIGpzb24oc3RhdHVzOiBudW1iZXIsIGJvZHk6IHVua25vd24pIHtcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oYm9keSwgeyBzdGF0dXMgfSk7XHJcbn1cclxuXHJcbi8qKiBQdXJlIE5vZGUgUERGIHRleHQgZXh0cmFjdGlvbiAobm8gd29ya2Vycy9jYW52YXMpLiAqL1xyXG5hc3luYyBmdW5jdGlvbiBleHRyYWN0UGRmVGV4dChhYjogQXJyYXlCdWZmZXIgfCBVaW50OEFycmF5KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCBkYXRhID0gYWIgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gYWIgOiBuZXcgVWludDhBcnJheShhYik7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBMb2FkIHBkZi1wYXJzZSBhdCBydW50aW1lIHNvIE5leHQgbmV2ZXIgYnVuZGxlcyBpdCAoYXZvaWRzIEVOT0VOVC90ZXN0IGZpeHR1cmUgaXNzdWVzKVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV2YWxcclxuICAgIGNvbnN0IHJlcTogTm9kZVJlcXVpcmUgPSBldmFsKFwicmVxdWlyZVwiKTtcclxuICAgIGNvbnN0IHBkZlBhcnNlTW9kID0gcmVxKFwicGRmLXBhcnNlXCIpO1xyXG4gICAgY29uc3QgcGRmUGFyc2UgPSAocGRmUGFyc2VNb2QgYXMgYW55KS5kZWZhdWx0ID8/IHBkZlBhcnNlTW9kO1xyXG4gICAgY29uc3Qgb3V0ID0gYXdhaXQgcGRmUGFyc2UoQnVmZmVyLmZyb20oZGF0YSkpO1xyXG4gICAgY29uc3QgdGV4dCA9IHR5cGVvZiBvdXQ/LnRleHQgPT09IFwic3RyaW5nXCIgPyBvdXQudGV4dCA6IFwiXCI7XHJcbiAgICBpZiAodGV4dCkgcmV0dXJuIHRleHQ7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAvLyBRdWlldGx5IGZhbGwgdGhyb3VnaCB0byBVVEYtOCBkZWNvZGU7IG5vIG5vaXN5IHdhcm5pbmdzIGR1cmluZyBkZXZcclxuICB9XHJcblxyXG4gIC8vIExhc3QgcmVzb3J0OiBuYWl2ZSBVVEYtOCBkZWNvZGVcclxuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGRhdGEpO1xyXG59XHJcblxyXG4vKiogUmVhZCBGaWxlfHN0cmluZ3xudWxsIC0+IFVURi04IHRleHQ7IHBhcnNlIFBERnMgd2hlbiBhcHByb3ByaWF0ZSAqL1xyXG5hc3luYyBmdW5jdGlvbiBmaWxlVG9UZXh0U21hcnQodjogdW5rbm93bik6IFByb21pc2U8eyB0ZXh0OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHR5cGU/OiBzdHJpbmcgfT4ge1xyXG4gIGlmICghdikgcmV0dXJuIHsgdGV4dDogXCJcIiB9O1xyXG4gIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHsgdGV4dDogdiB9O1xyXG5cclxuICAvLyBAdHMtaWdub3JlIC0gTmV4dCdzIEZpbGUgcG9seWZpbGxcclxuICBjb25zdCBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB2Py5uYW1lO1xyXG4gIC8vIEB0cy1pZ25vcmVcclxuICBjb25zdCB0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB2Py50eXBlO1xyXG4gIGNvbnN0IGxvb2tzUGRmID0gKHR5cGUgJiYgdHlwZS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL3BkZlwiKSkgfHwgKG5hbWUgJiYgbmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKFwiLnBkZlwiKSk7XHJcblxyXG4gIC8vIFByZWZlciBhcnJheUJ1ZmZlciAod29ya3Mgd2l0aCBOZXh0IEZpbGUgcG9seWZpbGwpXHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIGlmICh0eXBlb2Ygdi5hcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCBhYjogQXJyYXlCdWZmZXIgPSBhd2FpdCB2LmFycmF5QnVmZmVyKCk7XHJcbiAgICBjb25zdCBieXRlTGVuID0gYWI/LmJ5dGVMZW5ndGggPz8gMDtcclxuXHJcbiAgICBpZiAobG9va3NQZGYgJiYgYnl0ZUxlbiA+IDApIHtcclxuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGV4dHJhY3RQZGZUZXh0KGFiKTtcclxuICAgICAgcmV0dXJuIHsgdGV4dCwgbmFtZSwgdHlwZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlY29kZWQgPSBieXRlTGVuID4gMCA/IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShhYikgOiBcIlwiO1xyXG4gICAgcmV0dXJuIHsgdGV4dDogZGVjb2RlZCwgbmFtZSwgdHlwZSB9O1xyXG4gIH1cclxuXHJcbiAgLy8gRmFsbGJhY2sgdG8gLnRleHQoKVxyXG4gIC8vIEB0cy1pZ25vcmVcclxuICBpZiAodHlwZW9mIHYudGV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCB0OiBzdHJpbmcgPSBhd2FpdCB2LnRleHQoKTtcclxuICAgIHJldHVybiB7IHRleHQ6IHQsIG5hbWUsIHR5cGUgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHRleHQ6IFwiXCIsIG5hbWUsIHR5cGUgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVhZEZvcm0ocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IGZvcm0gPSBhd2FpdCByZXEuZm9ybURhdGEoKTtcclxuXHJcbiAgY29uc3QgcmVzdW1lVGV4dEZpZWxkID0gKGZvcm0uZ2V0KFwicmVzdW1lX3RleHRcIikgYXMgc3RyaW5nKSB8fCBcIlwiO1xyXG4gIGNvbnN0IGpkVGV4dEZpZWxkID0gKGZvcm0uZ2V0KFwiamRfdGV4dFwiKSBhcyBzdHJpbmcpIHx8IFwiXCI7XHJcblxyXG4gIGNvbnN0IHJlc3VtZVZhbCA9IGZvcm0uZ2V0KFwicmVzdW1lXCIpO1xyXG4gIGNvbnN0IGpkVmFsID0gZm9ybS5nZXQoXCJqZFwiKTtcclxuXHJcbiAgY29uc3QgeyB0ZXh0OiByZXN1bWVBdXRvIH0gPSBhd2FpdCBmaWxlVG9UZXh0U21hcnQocmVzdW1lVmFsKTtcclxuICBjb25zdCB7IHRleHQ6IGpkQXV0byB9ID0gYXdhaXQgZmlsZVRvVGV4dFNtYXJ0KGpkVmFsKTtcclxuXHJcbiAgY29uc3QgcmVzdW1lVGV4dCA9IHJlc3VtZVRleHRGaWVsZCB8fCByZXN1bWVBdXRvIHx8IFwiXCI7XHJcbiAgY29uc3QgamQgPSBqZFRleHRGaWVsZCB8fCBqZEF1dG8gfHwgXCJcIjtcclxuXHJcbiAgY29uc3Qgd2VpZ2h0c1JhdyA9IChmb3JtLmdldChcIndlaWdodHNcIikgYXMgc3RyaW5nKSB8fCBcIlwiO1xyXG4gIGNvbnN0IHJlZGFjdFBJSSA9IFN0cmluZygoZm9ybS5nZXQoXCJyZWRhY3RfcGlpXCIpID8/IFwiZmFsc2VcIikpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xyXG5cclxuICBsZXQgd2VpZ2h0czogQW5hbHl6ZUlucHV0W1wid2VpZ2h0c1wiXSB8IHVuZGVmaW5lZDtcclxuICBpZiAod2VpZ2h0c1JhdykgeyB0cnkgeyB3ZWlnaHRzID0gSlNPTi5wYXJzZSh3ZWlnaHRzUmF3KTsgfSBjYXRjaCB7fSB9XHJcblxyXG4gIHJldHVybiB7IHJlc3VtZVRleHQsIGpkLCB3ZWlnaHRzLCByZWRhY3RQSUkgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVhZEpzb24ocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpLmNhdGNoKCgpID0+ICh7fSBhcyBhbnkpKTtcclxuICBjb25zdCByZXN1bWVUZXh0OiBzdHJpbmcgPSBib2R5Py5yZXN1bWVUZXh0ID8/IGJvZHk/LnJlc3VtZSA/PyBcIlwiO1xyXG4gIGNvbnN0IGpkOiBzdHJpbmcgPSBib2R5Py5qZCA/PyBib2R5Py5qb2JEZXNjcmlwdGlvbiA/PyBcIlwiO1xyXG4gIGNvbnN0IHdlaWdodHM6IEFuYWx5emVJbnB1dFtcIndlaWdodHNcIl0gfCB1bmRlZmluZWQgPSBib2R5Py53ZWlnaHRzO1xyXG4gIGNvbnN0IHJlZGFjdFBJSTogYm9vbGVhbiA9IEJvb2xlYW4oYm9keT8ucmVkYWN0UElJID8/IGJvZHk/LnJlZGFjdF9waWkgPz8gZmFsc2UpO1xyXG4gIHJldHVybiB7IHJlc3VtZVRleHQsIGpkLCB3ZWlnaHRzLCByZWRhY3RQSUkgfTtcclxufVxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhhbmRsZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9QVElPTlMoKSB7XHJcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XHJcbiAgICBzdGF0dXM6IDIwNCxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogXCIqXCIsXHJcbiAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiOiBcIlBPU1QsT1BUSU9OU1wiLFxyXG4gICAgICBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIjogXCJDb250ZW50LVR5cGUsIEF1dGhvcml6YXRpb25cIixcclxuICAgIH0sXHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY3QgPSByZXEuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgPz8gXCJcIjtcclxuICAgIGxldCByZXN1bWVUZXh0ID0gXCJcIiwgamQgPSBcIlwiO1xyXG4gICAgbGV0IHdlaWdodHM6IEFuYWx5emVJbnB1dFtcIndlaWdodHNcIl0gfCB1bmRlZmluZWQ7XHJcbiAgICBsZXQgcmVkYWN0UElJID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKGN0LmluY2x1ZGVzKFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKSkge1xyXG4gICAgICAoeyByZXN1bWVUZXh0LCBqZCwgd2VpZ2h0cywgcmVkYWN0UElJIH0gPSBhd2FpdCByZWFkRm9ybShyZXEpKTtcclxuICAgIH0gZWxzZSBpZiAoY3QuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XHJcbiAgICAgICh7IHJlc3VtZVRleHQsIGpkLCB3ZWlnaHRzLCByZWRhY3RQSUkgfSA9IGF3YWl0IHJlYWRKc29uKHJlcSkpO1xyXG4gICAgfSBlbHNlIGlmIChjdC5pbmNsdWRlcyhcInRleHQvcGxhaW5cIikpIHtcclxuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcS50ZXh0KCk7XHJcbiAgICAgIGNvbnN0IFtyZXNQYXJ0LCBqZFBhcnRdID0gdGV4dC5zcGxpdCgvXFxuLS0tK1xcbi8pO1xyXG4gICAgICByZXN1bWVUZXh0ID0gcmVzUGFydD8udHJpbSgpIHx8IFwiXCI7XHJcbiAgICAgIGpkID0gamRQYXJ0Py50cmltKCkgfHwgXCJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRyeSB7ICh7IHJlc3VtZVRleHQsIGpkLCB3ZWlnaHRzLCByZWRhY3RQSUkgfSA9IGF3YWl0IHJlYWRGb3JtKHJlcSkpOyB9XHJcbiAgICAgIGNhdGNoIHsgKHsgcmVzdW1lVGV4dCwgamQsIHdlaWdodHMsIHJlZGFjdFBJSSB9ID0gYXdhaXQgcmVhZEpzb24ocmVxKSk7IH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBPcHRpb25hbCBzaW5nbGUtZmllbGQgc21va2UgdGVzdDogeyB0ZXh0IH1cclxuICAgIGlmICghcmVzdW1lVGV4dCAmJiAhamQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBiID0gYXdhaXQgcmVxLmpzb24oKTtcclxuICAgICAgICBpZiAodHlwZW9mIGI/LnRleHQgPT09IFwic3RyaW5nXCIgJiYgYi50ZXh0LnRyaW0oKSkge1xyXG4gICAgICAgICAgcmVzdW1lVGV4dCA9IGIudGV4dDtcclxuICAgICAgICAgIGpkID0gYi50ZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCB7fVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzdW1lVGV4dCB8fCAhamQpIHtcclxuICAgICAgcmV0dXJuIGpzb24oNDAwLCB7IGVycm9yOiBcIlByb3ZpZGUgYm90aCByZXN1bWUgYW5kIEpEICh0ZXh0IG9yIGZpbGUpLlwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1lcmdlZFdlaWdodHM6IFJlcXVpcmVkPEFuYWx5emVJbnB1dFtcIndlaWdodHNcIl0+ID0ge1xyXG4gICAgICBhdHM6ICAgICAgICAgICB3ZWlnaHRzPy5hdHMgPz8gMC4zLFxyXG4gICAgICBrZXl3b3JkX21hdGNoOiB3ZWlnaHRzPy5rZXl3b3JkX21hdGNoID8/IDAuMzUsXHJcbiAgICAgIGltcGFjdDogICAgICAgIHdlaWdodHM/LmltcGFjdCA/PyAwLjIsXHJcbiAgICAgIGNsYXJpdHk6ICAgICAgIHdlaWdodHM/LmNsYXJpdHkgPz8gMC4xNSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaW5wdXQ6IEFuYWx5emVJbnB1dCA9IHsgcmVzdW1lVGV4dCwgamQsIHdlaWdodHM6IG1lcmdlZFdlaWdodHMsIHJlZGFjdFBJSSB9O1xyXG4gICAgY29uc3Qgb3V0OiBBbmFseXplT3V0cHV0ID0gYW5hbHl6ZShpbnB1dCk7XHJcbiAgICByZXR1cm4ganNvbigyMDAsIG91dCk7XHJcbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJGYXRhbCBlcnJvciBpbiAvYXBpL2FuYWx5emVcIiwgZXJyKTtcclxuICAgIHJldHVybiBqc29uKDUwMCwgeyBlcnJvcjogXCJJbnRlcm5hbCBlcnJvciBpbiAvYXBpL2FuYWx5emVcIiwgZGV0YWlsOiBTdHJpbmcoZXJyPy5tZXNzYWdlIHx8IGVycikgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhbmFseXplIiwicnVudGltZSIsImR5bmFtaWMiLCJqc29uIiwic3RhdHVzIiwiYm9keSIsImV4dHJhY3RQZGZUZXh0IiwiYWIiLCJkYXRhIiwiVWludDhBcnJheSIsInJlcSIsImV2YWwiLCJwZGZQYXJzZU1vZCIsInBkZlBhcnNlIiwiZGVmYXVsdCIsIm91dCIsIkJ1ZmZlciIsImZyb20iLCJ0ZXh0IiwiZXJyIiwiVGV4dERlY29kZXIiLCJkZWNvZGUiLCJmaWxlVG9UZXh0U21hcnQiLCJ2IiwibmFtZSIsInR5cGUiLCJsb29rc1BkZiIsImluY2x1ZGVzIiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsImFycmF5QnVmZmVyIiwiYnl0ZUxlbiIsImJ5dGVMZW5ndGgiLCJkZWNvZGVkIiwidCIsInJlYWRGb3JtIiwiZm9ybSIsImZvcm1EYXRhIiwicmVzdW1lVGV4dEZpZWxkIiwiZ2V0IiwiamRUZXh0RmllbGQiLCJyZXN1bWVWYWwiLCJqZFZhbCIsInJlc3VtZUF1dG8iLCJqZEF1dG8iLCJyZXN1bWVUZXh0IiwiamQiLCJ3ZWlnaHRzUmF3IiwicmVkYWN0UElJIiwiU3RyaW5nIiwid2VpZ2h0cyIsIkpTT04iLCJwYXJzZSIsInJlYWRKc29uIiwiY2F0Y2giLCJyZXN1bWUiLCJqb2JEZXNjcmlwdGlvbiIsIkJvb2xlYW4iLCJyZWRhY3RfcGlpIiwiT1BUSU9OUyIsIlJlc3BvbnNlIiwiaGVhZGVycyIsIlBPU1QiLCJjdCIsInJlc1BhcnQiLCJqZFBhcnQiLCJzcGxpdCIsInRyaW0iLCJiIiwiZXJyb3IiLCJtZXJnZWRXZWlnaHRzIiwiYXRzIiwia2V5d29yZF9tYXRjaCIsImltcGFjdCIsImNsYXJpdHkiLCJpbnB1dCIsImNvbnNvbGUiLCJkZXRhaWwiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/analyze.ts":
/*!************************!*\
  !*** ./lib/analyze.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyze: () => (/* binding */ analyze),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   toSet: () => (/* binding */ toSet),\n/* harmony export */   tokenize: () => (/* binding */ tokenize)\n/* harmony export */ });\n// lib/analyze.ts\n// =========== Public types ===========\n// =========== Analysis ===========\nfunction analyze(input) {\n    const { redactPII = false } = input;\n    const weights = withDefaultWeights(input.weights);\n    // Normalize both sides BEFORE tokenization; keep originals for rewrites/summary.\n    const resumeN = normalize(input.resumeText);\n    const jdN = normalize(input.jd);\n    // Extract “terms” (tokens + phrases)\n    const resumeTokens = tokenize(resumeN);\n    const jdTokens = tokenize(jdN);\n    const resumeSet = toSet(resumeTokens);\n    const jdSet = toSet(jdTokens);\n    // Mine candidate keywords from JD (bigrams+unigrams, filtered)\n    const jdKeyPhrases = extractKeyPhrases(jdTokens);\n    const resKeyPhrases = extractKeyPhrases(resumeTokens);\n    // Match phrases first, then fall back to tokens with fuzzy credit\n    const { matched, missing } = matchKeywords(jdKeyPhrases, resKeyPhrases, jdSet, resumeSet);\n    // Heuristic scoring buckets (industry-agnostic)\n    const atsScore = scoreATS(input.resumeText);\n    const impactScore = scoreImpact(input.resumeText);\n    const clarityScore = scoreClarity(input.resumeText);\n    const keywordScore = Math.round(matched.length / Math.max(1, matched.length + missing.length) * 100);\n    const overall = weighted([\n        [\n            atsScore,\n            weights.ats\n        ],\n        [\n            keywordScore,\n            weights.keyword_match\n        ],\n        [\n            impactScore,\n            weights.impact\n        ],\n        [\n            clarityScore,\n            weights.clarity\n        ]\n    ]);\n    // Flags & fixes\n    const flags = buildFlags(input.resumeText);\n    const fix_list = flags.map((f)=>`Fix: ${f}`);\n    // Suggested rewrites (transform some lines into stronger bullets)\n    const suggested_rewrites = suggestRewrites(input.resumeText);\n    // Tailored summary aligned to JD\n    const tailored_summary = buildSummary(input.resumeText, input.jd, keywordScore, matched.length);\n    // Redact PII AFTER analysis so it doesn’t break matching\n    const postProcess = (s)=>redactPII ? redact(s) : s;\n    return {\n        scores: {\n            overall,\n            ats: atsScore,\n            keyword_match: keywordScore,\n            impact: impactScore,\n            clarity: clarityScore\n        },\n        matched_keywords: matched.map(postProcess),\n        missing_keywords: missing.map(postProcess),\n        flags: flags.map(postProcess),\n        fix_list: fix_list.map(postProcess),\n        suggested_rewrites: suggested_rewrites.map(postProcess),\n        tailored_summary: postProcess(tailored_summary)\n    };\n}\n// =========== Normalization & tokenization ===========\nfunction normalize(raw) {\n    return raw.normalize(\"NFKC\").replace(/[\\u2010-\\u2015]/g, \"-\") // dashes\n    .replace(/[“”„‟]/g, '\"') // quotes\n    .replace(/[‘’‚‛]/g, \"'\") // apostrophes\n    .replace(/\\u00A0/g, \" \") // NBSP\n    .replace(/[|•·●▪▶►]/g, \" \") // bullets\n    .replace(/[()]/g, \" \").replace(/[-_/\\\\]/g, \" \") // separators\n    .replace(/\\.(js|ts|tsx|jsx)\\b/g, \" $1 \").toLowerCase().normalize(\"NFKD\").replace(/[\\u0300-\\u036f]/g, \"\") // accents\n    .replace(/\\s+/g, \" \").trim();\n}\nconst STOP = new Set([\n    \"and\",\n    \"or\",\n    \"the\",\n    \"a\",\n    \"an\",\n    \"for\",\n    \"of\",\n    \"to\",\n    \"with\",\n    \"in\",\n    \"on\",\n    \"at\",\n    \"by\",\n    \"from\",\n    \"as\",\n    \"is\",\n    \"are\",\n    \"be\",\n    \"our\",\n    \"we\",\n    \"you\",\n    \"their\",\n    \"they\",\n    \"i\",\n    \"company\",\n    \"role\",\n    \"position\",\n    \"candidate\",\n    \"seeking\",\n    \"opportunity\",\n    \"responsibilities\",\n    \"requirements\",\n    \"skills\",\n    \"experience\"\n]);\n// Aliases across industries (extensible)\nconst ALIAS = {\n    // tech\n    \"nextjs\": \"next.js\",\n    \"next\": \"next.js\",\n    \"node\": \"node.js\",\n    \"nodejs\": \"node.js\",\n    \"typescript\": \"ts\",\n    \"javascript\": \"js\",\n    \"tailwindcss\": \"tailwind\",\n    \"reactjs\": \"react\",\n    \"mssql\": \"sql server\",\n    \"ms sql\": \"sql server\",\n    \"aws s3\": \"s3\",\n    // ops/finance/health/etc.\n    \"ap/ar\": \"ap ar\",\n    \"a/p\": \"ap\",\n    \"a/r\": \"ar\",\n    \"ehr\": \"electronic health record\",\n    \"hipaa\": \"hipaa\",\n    \"gaap\": \"gaap\"\n};\nfunction alias(tok) {\n    return ALIAS[tok] ?? tok;\n}\nfunction tokenize(nrm) {\n    const words = nrm.split(\" \").map(alias).filter((w)=>w && w.length > 1 && !STOP.has(w));\n    // generate bigrams for phrase sensitivity\n    const bigrams = [];\n    for(let i = 0; i < words.length - 1; i++){\n        bigrams.push(`${words[i]} ${words[i + 1]}`);\n    }\n    return [\n        ...words,\n        ...bigrams\n    ];\n}\nfunction toSet(tokens) {\n    const s = new Set();\n    for (const t of tokens){\n        const base = t.replace(/(ing|ed|es|s)$/, \"\");\n        if (base.length > 1) s.add(base);\n    }\n    return s;\n}\n// Phrase extraction: prefer nouns/skills-ish tokens by crude filters\nfunction extractKeyPhrases(tokens) {\n    const phrases = new Set();\n    for (const t of tokens){\n        if (t.includes(\" \")) {\n            // take bigrams that look like skills/terms\n            if (!/^(and|the|for|with|from|over|under|into|onto)\\b/.test(t)) {\n                phrases.add(t);\n            }\n        } else {\n            // keep singles that look like domain terms (letters+digits allowed)\n            if (/^[a-z0-9.+#-]{2,}$/.test(t) && !STOP.has(t)) {\n                phrases.add(t);\n            }\n        }\n    }\n    return [\n        ...phrases\n    ];\n}\n// Fuzzy match helper (cheap char-level distance)\nfunction near(a, b) {\n    if (a === b) return true;\n    const la = a.length, lb = b.length;\n    if (Math.abs(la - lb) > 1) return false;\n    let diff = 0, i = 0, j = 0;\n    while(i < la && j < lb){\n        if (a[i] === b[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        diff++;\n        if (diff > 1) return false;\n        if (la > lb) i++;\n        else if (lb > la) j++;\n        else {\n            i++;\n            j++;\n        }\n    }\n    return true;\n}\nfunction matchKeywords(jdPhrases, resPhrases, jdSet, resSet) {\n    const matched = [];\n    const missing = [];\n    const resPhraseSet = new Set(resPhrases);\n    // 1) phrase-level exact or near matches\n    for (const p of jdPhrases){\n        const base = p.replace(/(ing|ed|es|s)$/, \"\");\n        const found = resPhraseSet.has(p) || [\n            ...resPhraseSet\n        ].some((q)=>near(q, p)) || resSet.has(base);\n        if (found) matched.push(p);\n        else missing.push(p);\n    }\n    // 2) token-level: add any tokens present in JD but not in resume\n    for (const tok of jdSet){\n        if (!resSet.has(tok)) missing.push(tok);\n        else matched.push(tok);\n    }\n    // Dedup & keep concise\n    const uniq = (arr)=>Array.from(new Set(arr)).slice(0, 200);\n    return {\n        matched: uniq(matched),\n        missing: uniq(missing.filter((m)=>!matched.includes(m)))\n    };\n}\n// =========== Scoring heuristics (industry-agnostic) ===========\nfunction scoreATS(resumeRaw) {\n    // proxy for structure: presence of common sections + bullet usage + contact block\n    const r = resumeRaw.toLowerCase();\n    let pts = 0;\n    if (/\\bsummary|objective\\b/.test(r)) pts += 15;\n    if (/\\beducation\\b/.test(r)) pts += 15;\n    if (/\\bexperience|employment|work history\\b/.test(r)) pts += 20;\n    if (/\\bskills\\b/.test(r)) pts += 15;\n    if (/[-*•▪●]/.test(resumeRaw)) pts += 10; // bullets\n    if (/\\b[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}\\b/.test(r)) pts += 10; // email\n    if (/\\b\\d{3}[- .]?\\d{3}[- .]?\\d{4}\\b/.test(r)) pts += 5; // phone\n    if (/\\bgithub|linkedin|portfolio|http/.test(r)) pts += 10;\n    return clamp(Math.round(pts), 0, 100);\n}\nfunction scoreImpact(resumeRaw) {\n    // reward quantified bullets and action verbs\n    const lower = resumeRaw.toLowerCase();\n    const actionVerbs = [\n        \"built\",\n        \"led\",\n        \"reduced\",\n        \"increased\",\n        \"optimized\",\n        \"designed\",\n        \"developed\",\n        \"deployed\",\n        \"automated\",\n        \"delivered\",\n        \"launched\",\n        \"implemented\",\n        \"streamlined\",\n        \"improved\",\n        \"created\",\n        \"managed\"\n    ];\n    const verbHits = actionVerbs.reduce((acc, v)=>acc + (lower.includes(v) ? 1 : 0), 0);\n    const metricsHits = (resumeRaw.match(/\\b\\d+(\\.\\d+)?%|\\b\\d{2,}(?:k|m)?\\b/gi) || []).length; // % or big numbers\n    const bullets = (resumeRaw.match(/[-*•▪●]/g) || []).length;\n    const raw = 30 + Math.min(40, metricsHits * 6) + Math.min(20, verbHits * 4) + Math.min(10, Math.floor(bullets / 5) * 2);\n    return clamp(raw, 0, 100);\n}\nfunction scoreClarity(resumeRaw) {\n    // simplistic readability proxy: sentence length & passive voice hints\n    const text = resumeRaw.replace(/\\s+/g, \" \").trim();\n    const sentences = text.split(/[.!?]\\s/).filter(Boolean);\n    const avgLen = sentences.length ? text.split(/\\s+/).length / sentences.length : 18;\n    let score = 100;\n    if (avgLen > 28) score -= Math.min(40, (avgLen - 28) * 2);\n    const passive = (text.match(/\\b(was|were|been|being|be)\\b\\s+\\w+ed\\b/gi) || []).length;\n    score -= Math.min(30, passive * 3);\n    return clamp(Math.round(score), 0, 100);\n}\nfunction weighted(pairs) {\n    const sumW = pairs.reduce((a, [, w])=>a + w, 0) || 1;\n    const v = pairs.reduce((a, [s, w])=>a + s * w, 0) / sumW;\n    return clamp(Math.round(v), 0, 100);\n}\nfunction clamp(n, lo, hi) {\n    return Math.max(lo, Math.min(hi, n));\n}\n// =========== Flags, fixes, rewrites, summary ===========\nfunction buildFlags(raw) {\n    const flags = [];\n    const r = raw.toLowerCase();\n    if (!/\\bsummary|objective\\b/.test(r)) flags.push(\"Add a brief Professional Summary (2–3 lines).\");\n    if (!/\\beducation\\b/.test(r)) flags.push(\"Add an Education section.\");\n    if (!/\\bexperience|employment|work history\\b/.test(r)) flags.push(\"Add an Experience section.\");\n    if (!/\\bskills\\b/.test(r)) flags.push(\"Add a Skills section.\");\n    const bullets = (raw.match(/[-*•▪●]/g) || []).length;\n    if (bullets < 6) flags.push(\"Use bullet points for readability and scannability.\");\n    if (!/\\b\\d{3}[- .]?\\d{3}[- .]?\\d{4}\\b/.test(r) && !/\\b[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}\\b/.test(r)) {\n        flags.push(\"Ensure contact info (email/phone) is present and selectable.\");\n    }\n    return flags.slice(0, 10);\n}\nfunction suggestRewrites(raw) {\n    // Transform some lines into metric-led, verb-first bullets\n    const lines = raw.split(/\\r?\\n/).map((s)=>s.trim()).filter(Boolean);\n    const out = [];\n    for (const line of lines){\n        if (line.length < 40 || out.length >= 6) continue;\n        const rewritten = rewriteLine(line);\n        if (rewritten) out.push(rewritten);\n    }\n    return out;\n}\nfunction rewriteLine(line) {\n    // If line lacks a metric, add a metric prompt\n    const startsPassive = /\\b(was|were|been|being|be)\\b/i.test(line);\n    const hasMetric = /\\b\\d+(\\.\\d+)?%|\\b\\d{2,}(?:k|m)?\\b/i.test(line);\n    let base = line.replace(/^[-*•▪●]\\s*/, \"\").trim();\n    if (startsPassive) base = base.replace(/\\b(was|were|been|being|be)\\b\\s*/i, \"\");\n    const tmpl = `• ${capitalize(firstVerb(base))} ${restAfterFirstVerb(base)}${hasMetric ? \"\" : \" — quantify impact (%, $, time, or volume).\"}`.replace(/\\s+/g, \" \").trim();\n    return tmpl.length > 40 ? tmpl : null;\n}\nfunction firstVerb(s) {\n    const words = s.split(/\\s+/);\n    const w = words[0] || \"Delivered\";\n    return capitalize(w.replace(/[^\\w-]/g, \"\"));\n}\nfunction restAfterFirstVerb(s) {\n    return s.split(/\\s+/).slice(1).join(\" \") || \"measurable outcomes for stakeholders.\";\n}\nfunction capitalize(s) {\n    return s ? s[0].toUpperCase() + s.slice(1) : s;\n}\nfunction buildSummary(resumeRaw, jdRaw, kwScore, matchedCount) {\n    const focus = kwScore >= 60 ? \"strong alignment\" : kwScore >= 35 ? \"partial alignment\" : \"foundational alignment\";\n    return `Results-driven professional with ${focus} to the role; matched ${matchedCount} JD terms. Emphasize quantified outcomes and the most relevant tools/frameworks referenced in the job description.`;\n}\n// =========== PII Redaction (post-analysis) ===========\nfunction redact(s) {\n    return s.replace(/\\b[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}\\b/gi, \"[REDACTED_EMAIL]\").replace(/\\b(?:\\+?1[-.\\s]?)?\\(?\\d{3}\\)?[-.\\s]?\\d{3}[-.\\s]?\\d{4}\\b/g, \"[REDACTED_PHONE]\").replace(/\\bhttps?:\\/\\/\\S+\\b/gi, \"[REDACTED_URL]\");\n}\nfunction withDefaultWeights(w) {\n    return {\n        ats: w?.ats ?? 0.3,\n        keyword_match: w?.keyword_match ?? 0.35,\n        impact: w?.impact ?? 0.2,\n        clarity: w?.clarity ?? 0.15\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0IsS0FBSyxDQUFDLE9BQU9rQyxLQUFLLENBQUMsR0FBR3VDLElBQUksQ0FBQyxRQUFRO0FBQzlDO0FBQ0EsU0FBU0gsV0FBV3RGLENBQVM7SUFBSSxPQUFPQSxJQUFJQSxDQUFDLENBQUMsRUFBRSxDQUFDMEYsV0FBVyxLQUFLMUYsRUFBRWtELEtBQUssQ0FBQyxLQUFLbEQ7QUFBRztBQUVqRixTQUFTRixhQUFhc0QsU0FBaUIsRUFBRXVDLEtBQWEsRUFBRUMsT0FBZSxFQUFFQyxZQUFvQjtJQUMzRixNQUFNQyxRQUFRRixXQUFXLEtBQUsscUJBQXFCQSxXQUFXLEtBQUssc0JBQXNCO0lBQ3pGLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRUUsTUFBTSxzQkFBc0IsRUFBRUQsYUFBYSxrSEFBa0gsQ0FBQztBQUMzTTtBQUVBLHdEQUF3RDtBQUV4RCxTQUFTNUYsT0FBT0QsQ0FBUztJQUN2QixPQUFPQSxFQUNKTSxPQUFPLENBQUMsK0NBQStDLG9CQUN2REEsT0FBTyxDQUFDLDREQUE0RCxvQkFDcEVBLE9BQU8sQ0FBQyx3QkFBd0I7QUFDckM7QUFFQSxTQUFTbkQsbUJBQW1CK0QsQ0FBMkI7SUFDckQsT0FBTztRQUNMaEMsS0FBS2dDLEdBQUdoQyxPQUFPO1FBQ2ZDLGVBQWUrQixHQUFHL0IsaUJBQWlCO1FBQ25DQyxRQUFROEIsR0FBRzlCLFVBQVU7UUFDckJDLFNBQVM2QixHQUFHN0IsV0FBVztJQUN6QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdW1lLWF0cy1yZXZpZXdlci8uL2xpYi9hbmFseXplLnRzP2YyZTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2FuYWx5emUudHNcclxuXHJcbi8vID09PT09PT09PT09IFB1YmxpYyB0eXBlcyA9PT09PT09PT09PVxyXG5leHBvcnQgdHlwZSBBbmFseXplSW5wdXQgPSB7XHJcbiAgcmVzdW1lVGV4dDogc3RyaW5nO1xyXG4gIGpkOiBzdHJpbmc7XHJcbiAgd2VpZ2h0cz86IHtcclxuICAgIGF0cz86IG51bWJlcjsgICAgICAgICAgICAvLyBmb3JtYXR0aW5nL2NvbXBsaWFuY2UgcHJveHlcclxuICAgIGtleXdvcmRfbWF0Y2g/OiBudW1iZXI7ICAvLyBKRC9yZXN1bWUgb3ZlcmxhcFxyXG4gICAgaW1wYWN0PzogbnVtYmVyOyAgICAgICAgIC8vIHF1YW50aWZpZWQgcmVzdWx0cy9hY3Rpb25cclxuICAgIGNsYXJpdHk/OiBudW1iZXI7ICAgICAgICAvLyByZWFkYWJpbGl0eS9zdHJ1Y3R1cmVcclxuICB9O1xyXG4gIHJlZGFjdFBJST86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBBbmFseXplT3V0cHV0ID0ge1xyXG4gIHNjb3Jlczoge1xyXG4gICAgb3ZlcmFsbDogbnVtYmVyOyAgICAgICAgLy8gMC4uMTAwXHJcbiAgICBhdHM6IG51bWJlcjsgICAgICAgICAgICAvLyAwLi4xMDBcclxuICAgIGtleXdvcmRfbWF0Y2g6IG51bWJlcjsgIC8vIDAuLjEwMFxyXG4gICAgaW1wYWN0OiBudW1iZXI7ICAgICAgICAgLy8gMC4uMTAwXHJcbiAgICBjbGFyaXR5OiBudW1iZXI7ICAgICAgICAvLyAwLi4xMDBcclxuICB9O1xyXG4gIG1hdGNoZWRfa2V5d29yZHM6IHN0cmluZ1tdO1xyXG4gIG1pc3Npbmdfa2V5d29yZHM6IHN0cmluZ1tdO1xyXG4gIGZsYWdzOiBzdHJpbmdbXTtcclxuICBmaXhfbGlzdDogc3RyaW5nW107XHJcbiAgc3VnZ2VzdGVkX3Jld3JpdGVzOiBzdHJpbmdbXTtcclxuICB0YWlsb3JlZF9zdW1tYXJ5OiBzdHJpbmc7XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PSBBbmFseXNpcyA9PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emUoaW5wdXQ6IEFuYWx5emVJbnB1dCk6IEFuYWx5emVPdXRwdXQge1xyXG4gIGNvbnN0IHsgcmVkYWN0UElJID0gZmFsc2UgfSA9IGlucHV0O1xyXG4gIGNvbnN0IHdlaWdodHMgPSB3aXRoRGVmYXVsdFdlaWdodHMoaW5wdXQud2VpZ2h0cyk7XHJcblxyXG4gIC8vIE5vcm1hbGl6ZSBib3RoIHNpZGVzIEJFRk9SRSB0b2tlbml6YXRpb247IGtlZXAgb3JpZ2luYWxzIGZvciByZXdyaXRlcy9zdW1tYXJ5LlxyXG4gIGNvbnN0IHJlc3VtZU4gPSBub3JtYWxpemUoaW5wdXQucmVzdW1lVGV4dCk7XHJcbiAgY29uc3QgamROID0gbm9ybWFsaXplKGlucHV0LmpkKTtcclxuXHJcbiAgLy8gRXh0cmFjdCDigJx0ZXJtc+KAnSAodG9rZW5zICsgcGhyYXNlcylcclxuICBjb25zdCByZXN1bWVUb2tlbnMgPSB0b2tlbml6ZShyZXN1bWVOKTtcclxuICBjb25zdCBqZFRva2VucyA9IHRva2VuaXplKGpkTik7XHJcblxyXG4gIGNvbnN0IHJlc3VtZVNldCA9IHRvU2V0KHJlc3VtZVRva2Vucyk7XHJcbiAgY29uc3QgamRTZXQgPSB0b1NldChqZFRva2Vucyk7XHJcblxyXG4gIC8vIE1pbmUgY2FuZGlkYXRlIGtleXdvcmRzIGZyb20gSkQgKGJpZ3JhbXMrdW5pZ3JhbXMsIGZpbHRlcmVkKVxyXG4gIGNvbnN0IGpkS2V5UGhyYXNlcyA9IGV4dHJhY3RLZXlQaHJhc2VzKGpkVG9rZW5zKTtcclxuICBjb25zdCByZXNLZXlQaHJhc2VzID0gZXh0cmFjdEtleVBocmFzZXMocmVzdW1lVG9rZW5zKTtcclxuXHJcbiAgLy8gTWF0Y2ggcGhyYXNlcyBmaXJzdCwgdGhlbiBmYWxsIGJhY2sgdG8gdG9rZW5zIHdpdGggZnV6enkgY3JlZGl0XHJcbiAgY29uc3QgeyBtYXRjaGVkLCBtaXNzaW5nIH0gPSBtYXRjaEtleXdvcmRzKGpkS2V5UGhyYXNlcywgcmVzS2V5UGhyYXNlcywgamRTZXQsIHJlc3VtZVNldCk7XHJcblxyXG4gIC8vIEhldXJpc3RpYyBzY29yaW5nIGJ1Y2tldHMgKGluZHVzdHJ5LWFnbm9zdGljKVxyXG4gIGNvbnN0IGF0c1Njb3JlID0gc2NvcmVBVFMoaW5wdXQucmVzdW1lVGV4dCk7XHJcbiAgY29uc3QgaW1wYWN0U2NvcmUgPSBzY29yZUltcGFjdChpbnB1dC5yZXN1bWVUZXh0KTtcclxuICBjb25zdCBjbGFyaXR5U2NvcmUgPSBzY29yZUNsYXJpdHkoaW5wdXQucmVzdW1lVGV4dCk7XHJcbiAgY29uc3Qga2V5d29yZFNjb3JlID0gTWF0aC5yb3VuZCgobWF0Y2hlZC5sZW5ndGggLyBNYXRoLm1heCgxLCBtYXRjaGVkLmxlbmd0aCArIG1pc3NpbmcubGVuZ3RoKSkgKiAxMDApO1xyXG5cclxuICBjb25zdCBvdmVyYWxsID0gd2VpZ2h0ZWQoW1xyXG4gICAgW2F0c1Njb3JlLCB3ZWlnaHRzLmF0c10sXHJcbiAgICBba2V5d29yZFNjb3JlLCB3ZWlnaHRzLmtleXdvcmRfbWF0Y2hdLFxyXG4gICAgW2ltcGFjdFNjb3JlLCB3ZWlnaHRzLmltcGFjdF0sXHJcbiAgICBbY2xhcml0eVNjb3JlLCB3ZWlnaHRzLmNsYXJpdHldLFxyXG4gIF0pO1xyXG5cclxuICAvLyBGbGFncyAmIGZpeGVzXHJcbiAgY29uc3QgZmxhZ3MgPSBidWlsZEZsYWdzKGlucHV0LnJlc3VtZVRleHQpO1xyXG4gIGNvbnN0IGZpeF9saXN0ID0gZmxhZ3MubWFwKGYgPT4gYEZpeDogJHtmfWApO1xyXG5cclxuICAvLyBTdWdnZXN0ZWQgcmV3cml0ZXMgKHRyYW5zZm9ybSBzb21lIGxpbmVzIGludG8gc3Ryb25nZXIgYnVsbGV0cylcclxuICBjb25zdCBzdWdnZXN0ZWRfcmV3cml0ZXMgPSBzdWdnZXN0UmV3cml0ZXMoaW5wdXQucmVzdW1lVGV4dCk7XHJcblxyXG4gIC8vIFRhaWxvcmVkIHN1bW1hcnkgYWxpZ25lZCB0byBKRFxyXG4gIGNvbnN0IHRhaWxvcmVkX3N1bW1hcnkgPSBidWlsZFN1bW1hcnkoaW5wdXQucmVzdW1lVGV4dCwgaW5wdXQuamQsIGtleXdvcmRTY29yZSwgbWF0Y2hlZC5sZW5ndGgpO1xyXG5cclxuICAvLyBSZWRhY3QgUElJIEFGVEVSIGFuYWx5c2lzIHNvIGl0IGRvZXNu4oCZdCBicmVhayBtYXRjaGluZ1xyXG4gIGNvbnN0IHBvc3RQcm9jZXNzID0gKHM6IHN0cmluZykgPT4gKHJlZGFjdFBJSSA/IHJlZGFjdChzKSA6IHMpO1xyXG4gIHJldHVybiB7XHJcbiAgICBzY29yZXM6IHtcclxuICAgICAgb3ZlcmFsbCxcclxuICAgICAgYXRzOiBhdHNTY29yZSxcclxuICAgICAga2V5d29yZF9tYXRjaDoga2V5d29yZFNjb3JlLFxyXG4gICAgICBpbXBhY3Q6IGltcGFjdFNjb3JlLFxyXG4gICAgICBjbGFyaXR5OiBjbGFyaXR5U2NvcmUsXHJcbiAgICB9LFxyXG4gICAgbWF0Y2hlZF9rZXl3b3JkczogbWF0Y2hlZC5tYXAocG9zdFByb2Nlc3MpLFxyXG4gICAgbWlzc2luZ19rZXl3b3JkczogbWlzc2luZy5tYXAocG9zdFByb2Nlc3MpLFxyXG4gICAgZmxhZ3M6IGZsYWdzLm1hcChwb3N0UHJvY2VzcyksXHJcbiAgICBmaXhfbGlzdDogZml4X2xpc3QubWFwKHBvc3RQcm9jZXNzKSxcclxuICAgIHN1Z2dlc3RlZF9yZXdyaXRlczogc3VnZ2VzdGVkX3Jld3JpdGVzLm1hcChwb3N0UHJvY2VzcyksXHJcbiAgICB0YWlsb3JlZF9zdW1tYXJ5OiBwb3N0UHJvY2Vzcyh0YWlsb3JlZF9zdW1tYXJ5KSxcclxuICB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PSBOb3JtYWxpemF0aW9uICYgdG9rZW5pemF0aW9uID09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHJhdzogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gcmF3XHJcbiAgICAubm9ybWFsaXplKFwiTkZLQ1wiKVxyXG4gICAgLnJlcGxhY2UoL1tcXHUyMDEwLVxcdTIwMTVdL2csIFwiLVwiKSAgICAgICAgICAgICAgLy8gZGFzaGVzXHJcbiAgICAucmVwbGFjZSgvW+KAnOKAneKAnuKAn10vZywgJ1wiJykgICAgICAgICAgICAgICAgICAgICAgIC8vIHF1b3Rlc1xyXG4gICAgLnJlcGxhY2UoL1vigJjigJnigJrigJtdL2csIFwiJ1wiKSAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBvc3Ryb3BoZXNcclxuICAgIC5yZXBsYWNlKC9cXHUwMEEwL2csIFwiIFwiKSAgICAgICAgICAgICAgICAgICAgICAgLy8gTkJTUFxyXG4gICAgLnJlcGxhY2UoL1t84oCiwrfil4/ilqrilrbilrpdL2csIFwiIFwiKSAgICAgICAgICAgICAgICAgICAgLy8gYnVsbGV0c1xyXG4gICAgLnJlcGxhY2UoL1soKV0vZywgXCIgXCIpXHJcbiAgICAucmVwbGFjZSgvWy1fL1xcXFxdL2csIFwiIFwiKSAgICAgICAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzXHJcbiAgICAucmVwbGFjZSgvXFwuKGpzfHRzfHRzeHxqc3gpXFxiL2csIFwiICQxIFwiKVxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC5ub3JtYWxpemUoXCJORktEXCIpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIpIC8vIGFjY2VudHNcclxuICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKVxyXG4gICAgLnRyaW0oKTtcclxufVxyXG5cclxuY29uc3QgU1RPUCA9IG5ldyBTZXQoW1xyXG4gIFwiYW5kXCIsXCJvclwiLFwidGhlXCIsXCJhXCIsXCJhblwiLFwiZm9yXCIsXCJvZlwiLFwidG9cIixcIndpdGhcIixcImluXCIsXCJvblwiLFwiYXRcIixcImJ5XCIsXCJmcm9tXCIsXCJhc1wiLFwiaXNcIixcImFyZVwiLFwiYmVcIixcIm91clwiLFwid2VcIixcInlvdVwiLFwidGhlaXJcIixcInRoZXlcIixcImlcIixcclxuICBcImNvbXBhbnlcIixcInJvbGVcIixcInBvc2l0aW9uXCIsXCJjYW5kaWRhdGVcIixcInNlZWtpbmdcIixcIm9wcG9ydHVuaXR5XCIsXCJyZXNwb25zaWJpbGl0aWVzXCIsXCJyZXF1aXJlbWVudHNcIixcInNraWxsc1wiLFwiZXhwZXJpZW5jZVwiXHJcbl0pO1xyXG5cclxuLy8gQWxpYXNlcyBhY3Jvc3MgaW5kdXN0cmllcyAoZXh0ZW5zaWJsZSlcclxuY29uc3QgQUxJQVM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgLy8gdGVjaFxyXG4gIFwibmV4dGpzXCI6IFwibmV4dC5qc1wiLCBcIm5leHRcIjogXCJuZXh0LmpzXCIsXHJcbiAgXCJub2RlXCI6IFwibm9kZS5qc1wiLCBcIm5vZGVqc1wiOiBcIm5vZGUuanNcIixcclxuICBcInR5cGVzY3JpcHRcIjogXCJ0c1wiLCBcImphdmFzY3JpcHRcIjogXCJqc1wiLFxyXG4gIFwidGFpbHdpbmRjc3NcIjogXCJ0YWlsd2luZFwiLCBcInJlYWN0anNcIjogXCJyZWFjdFwiLFxyXG4gIFwibXNzcWxcIjogXCJzcWwgc2VydmVyXCIsIFwibXMgc3FsXCI6IFwic3FsIHNlcnZlclwiLFxyXG4gIFwiYXdzIHMzXCI6IFwiczNcIixcclxuICAvLyBvcHMvZmluYW5jZS9oZWFsdGgvZXRjLlxyXG4gIFwiYXAvYXJcIjogXCJhcCBhclwiLCBcImEvcFwiOiBcImFwXCIsIFwiYS9yXCI6IFwiYXJcIixcclxuICBcImVoclwiOiBcImVsZWN0cm9uaWMgaGVhbHRoIHJlY29yZFwiLCBcImhpcGFhXCI6IFwiaGlwYWFcIixcclxuICBcImdhYXBcIjogXCJnYWFwXCIsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhbGlhcyh0b2s6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIEFMSUFTW3Rva10gPz8gdG9rO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5pemUobnJtOiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgY29uc3Qgd29yZHMgPSBucm0uc3BsaXQoXCIgXCIpLm1hcChhbGlhcykuZmlsdGVyKHcgPT4gdyAmJiB3Lmxlbmd0aCA+IDEgJiYgIVNUT1AuaGFzKHcpKTtcclxuICAvLyBnZW5lcmF0ZSBiaWdyYW1zIGZvciBwaHJhc2Ugc2Vuc2l0aXZpdHlcclxuICBjb25zdCBiaWdyYW1zOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICBiaWdyYW1zLnB1c2goYCR7d29yZHNbaV19ICR7d29yZHNbaSArIDFdfWApO1xyXG4gIH1cclxuICByZXR1cm4gWy4uLndvcmRzLCAuLi5iaWdyYW1zXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvU2V0KHRva2Vuczogc3RyaW5nW10pIHtcclxuICBjb25zdCBzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgZm9yIChjb25zdCB0IG9mIHRva2Vucykge1xyXG4gICAgY29uc3QgYmFzZSA9IHQucmVwbGFjZSgvKGluZ3xlZHxlc3xzKSQvLFwiXCIpO1xyXG4gICAgaWYgKGJhc2UubGVuZ3RoID4gMSkgcy5hZGQoYmFzZSk7XHJcbiAgfVxyXG4gIHJldHVybiBzO1xyXG59XHJcblxyXG4vLyBQaHJhc2UgZXh0cmFjdGlvbjogcHJlZmVyIG5vdW5zL3NraWxscy1pc2ggdG9rZW5zIGJ5IGNydWRlIGZpbHRlcnNcclxuZnVuY3Rpb24gZXh0cmFjdEtleVBocmFzZXModG9rZW5zOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICBjb25zdCBwaHJhc2VzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgZm9yIChjb25zdCB0IG9mIHRva2Vucykge1xyXG4gICAgaWYgKHQuaW5jbHVkZXMoXCIgXCIpKSB7XHJcbiAgICAgIC8vIHRha2UgYmlncmFtcyB0aGF0IGxvb2sgbGlrZSBza2lsbHMvdGVybXNcclxuICAgICAgaWYgKCEvXihhbmR8dGhlfGZvcnx3aXRofGZyb218b3Zlcnx1bmRlcnxpbnRvfG9udG8pXFxiLy50ZXN0KHQpKSB7XHJcbiAgICAgICAgcGhyYXNlcy5hZGQodCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGtlZXAgc2luZ2xlcyB0aGF0IGxvb2sgbGlrZSBkb21haW4gdGVybXMgKGxldHRlcnMrZGlnaXRzIGFsbG93ZWQpXHJcbiAgICAgIGlmICgvXlthLXowLTkuKyMtXXsyLH0kLy50ZXN0KHQpICYmICFTVE9QLmhhcyh0KSkge1xyXG4gICAgICAgIHBocmFzZXMuYWRkKHQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBbLi4ucGhyYXNlc107XHJcbn1cclxuXHJcbi8vIEZ1enp5IG1hdGNoIGhlbHBlciAoY2hlYXAgY2hhci1sZXZlbCBkaXN0YW5jZSlcclxuZnVuY3Rpb24gbmVhcihhOiBzdHJpbmcsIGI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcclxuICBjb25zdCBsYSA9IGEubGVuZ3RoLCBsYiA9IGIubGVuZ3RoO1xyXG4gIGlmIChNYXRoLmFicyhsYSAtIGxiKSA+IDEpIHJldHVybiBmYWxzZTtcclxuICBsZXQgZGlmZiA9IDAsIGkgPSAwLCBqID0gMDtcclxuICB3aGlsZSAoaSA8IGxhICYmIGogPCBsYikge1xyXG4gICAgaWYgKGFbaV0gPT09IGJbal0pIHsgaSsrOyBqKys7IGNvbnRpbnVlOyB9XHJcbiAgICBkaWZmKys7XHJcbiAgICBpZiAoZGlmZiA+IDEpIHJldHVybiBmYWxzZTtcclxuICAgIGlmIChsYSA+IGxiKSBpKys7IGVsc2UgaWYgKGxiID4gbGEpIGorKzsgZWxzZSB7IGkrKzsgaisrOyB9XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXRjaEtleXdvcmRzKFxyXG4gIGpkUGhyYXNlczogc3RyaW5nW10sXHJcbiAgcmVzUGhyYXNlczogc3RyaW5nW10sXHJcbiAgamRTZXQ6IFNldDxzdHJpbmc+LFxyXG4gIHJlc1NldDogU2V0PHN0cmluZz5cclxuKSB7XHJcbiAgY29uc3QgbWF0Y2hlZDogc3RyaW5nW10gPSBbXTtcclxuICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBjb25zdCByZXNQaHJhc2VTZXQgPSBuZXcgU2V0KHJlc1BocmFzZXMpO1xyXG4gIC8vIDEpIHBocmFzZS1sZXZlbCBleGFjdCBvciBuZWFyIG1hdGNoZXNcclxuICBmb3IgKGNvbnN0IHAgb2YgamRQaHJhc2VzKSB7XHJcbiAgICBjb25zdCBiYXNlID0gcC5yZXBsYWNlKC8oaW5nfGVkfGVzfHMpJC8sXCJcIik7XHJcbiAgICBjb25zdCBmb3VuZCA9XHJcbiAgICAgIHJlc1BocmFzZVNldC5oYXMocCkgfHxcclxuICAgICAgWy4uLnJlc1BocmFzZVNldF0uc29tZShxID0+IG5lYXIocSwgcCkpIHx8XHJcbiAgICAgIHJlc1NldC5oYXMoYmFzZSk7XHJcbiAgICBpZiAoZm91bmQpIG1hdGNoZWQucHVzaChwKTsgZWxzZSBtaXNzaW5nLnB1c2gocCk7XHJcbiAgfVxyXG5cclxuICAvLyAyKSB0b2tlbi1sZXZlbDogYWRkIGFueSB0b2tlbnMgcHJlc2VudCBpbiBKRCBidXQgbm90IGluIHJlc3VtZVxyXG4gIGZvciAoY29uc3QgdG9rIG9mIGpkU2V0KSB7XHJcbiAgICBpZiAoIXJlc1NldC5oYXModG9rKSkgbWlzc2luZy5wdXNoKHRvayk7XHJcbiAgICBlbHNlIG1hdGNoZWQucHVzaCh0b2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVkdXAgJiBrZWVwIGNvbmNpc2VcclxuICBjb25zdCB1bmlxID0gKGFycjogc3RyaW5nW10pID0+IEFycmF5LmZyb20obmV3IFNldChhcnIpKS5zbGljZSgwLCAyMDApO1xyXG4gIHJldHVybiB7XHJcbiAgICBtYXRjaGVkOiB1bmlxKG1hdGNoZWQpLFxyXG4gICAgbWlzc2luZzogdW5pcShtaXNzaW5nLmZpbHRlcihtID0+ICFtYXRjaGVkLmluY2x1ZGVzKG0pKSksXHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT0gU2NvcmluZyBoZXVyaXN0aWNzIChpbmR1c3RyeS1hZ25vc3RpYykgPT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIHNjb3JlQVRTKHJlc3VtZVJhdzogc3RyaW5nKTogbnVtYmVyIHtcclxuICAvLyBwcm94eSBmb3Igc3RydWN0dXJlOiBwcmVzZW5jZSBvZiBjb21tb24gc2VjdGlvbnMgKyBidWxsZXQgdXNhZ2UgKyBjb250YWN0IGJsb2NrXHJcbiAgY29uc3QgciA9IHJlc3VtZVJhdy50b0xvd2VyQ2FzZSgpO1xyXG4gIGxldCBwdHMgPSAwO1xyXG4gIGlmICgvXFxic3VtbWFyeXxvYmplY3RpdmVcXGIvLnRlc3QocikpIHB0cyArPSAxNTtcclxuICBpZiAoL1xcYmVkdWNhdGlvblxcYi8udGVzdChyKSkgcHRzICs9IDE1O1xyXG4gIGlmICgvXFxiZXhwZXJpZW5jZXxlbXBsb3ltZW50fHdvcmsgaGlzdG9yeVxcYi8udGVzdChyKSkgcHRzICs9IDIwO1xyXG4gIGlmICgvXFxic2tpbGxzXFxiLy50ZXN0KHIpKSBwdHMgKz0gMTU7XHJcbiAgaWYgKC9bLSrigKLilqril49dLy50ZXN0KHJlc3VtZVJhdykpIHB0cyArPSAxMDsgLy8gYnVsbGV0c1xyXG4gIGlmICgvXFxiW2EtejAtOS5fJSstXStAW2EtejAtOS4tXStcXC5bYS16XXsyLH1cXGIvLnRlc3QocikpIHB0cyArPSAxMDsgLy8gZW1haWxcclxuICBpZiAoL1xcYlxcZHszfVstIC5dP1xcZHszfVstIC5dP1xcZHs0fVxcYi8udGVzdChyKSkgcHRzICs9IDU7IC8vIHBob25lXHJcbiAgaWYgKC9cXGJnaXRodWJ8bGlua2VkaW58cG9ydGZvbGlvfGh0dHAvLnRlc3QocikpIHB0cyArPSAxMDtcclxuICByZXR1cm4gY2xhbXAoTWF0aC5yb3VuZChwdHMpLCAwLCAxMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzY29yZUltcGFjdChyZXN1bWVSYXc6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgLy8gcmV3YXJkIHF1YW50aWZpZWQgYnVsbGV0cyBhbmQgYWN0aW9uIHZlcmJzXHJcbiAgY29uc3QgbG93ZXIgPSByZXN1bWVSYXcudG9Mb3dlckNhc2UoKTtcclxuICBjb25zdCBhY3Rpb25WZXJicyA9IFtcImJ1aWx0XCIsXCJsZWRcIixcInJlZHVjZWRcIixcImluY3JlYXNlZFwiLFwib3B0aW1pemVkXCIsXCJkZXNpZ25lZFwiLFwiZGV2ZWxvcGVkXCIsXCJkZXBsb3llZFwiLFwiYXV0b21hdGVkXCIsXCJkZWxpdmVyZWRcIixcImxhdW5jaGVkXCIsXCJpbXBsZW1lbnRlZFwiLFwic3RyZWFtbGluZWRcIixcImltcHJvdmVkXCIsXCJjcmVhdGVkXCIsXCJtYW5hZ2VkXCJdO1xyXG4gIGNvbnN0IHZlcmJIaXRzID0gYWN0aW9uVmVyYnMucmVkdWNlKChhY2Msdik9PmFjYyArIChsb3dlci5pbmNsdWRlcyh2KSA/IDEgOiAwKSwgMCk7XHJcblxyXG4gIGNvbnN0IG1ldHJpY3NIaXRzID0gKHJlc3VtZVJhdy5tYXRjaCgvXFxiXFxkKyhcXC5cXGQrKT8lfFxcYlxcZHsyLH0oPzprfG0pP1xcYi9naSkgfHwgW10pLmxlbmd0aDsgLy8gJSBvciBiaWcgbnVtYmVyc1xyXG4gIGNvbnN0IGJ1bGxldHMgPSAocmVzdW1lUmF3Lm1hdGNoKC9bLSrigKLilqril49dL2cpIHx8IFtdKS5sZW5ndGg7XHJcblxyXG4gIGNvbnN0IHJhdyA9IDMwICsgTWF0aC5taW4oNDAsIG1ldHJpY3NIaXRzKjYpICsgTWF0aC5taW4oMjAsIHZlcmJIaXRzKjQpICsgTWF0aC5taW4oMTAsIE1hdGguZmxvb3IoYnVsbGV0cy81KSoyKTtcclxuICByZXR1cm4gY2xhbXAocmF3LCAwLCAxMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzY29yZUNsYXJpdHkocmVzdW1lUmF3OiBzdHJpbmcpOiBudW1iZXIge1xyXG4gIC8vIHNpbXBsaXN0aWMgcmVhZGFiaWxpdHkgcHJveHk6IHNlbnRlbmNlIGxlbmd0aCAmIHBhc3NpdmUgdm9pY2UgaGludHNcclxuICBjb25zdCB0ZXh0ID0gcmVzdW1lUmF3LnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpO1xyXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHRleHQuc3BsaXQoL1suIT9dXFxzLykuZmlsdGVyKEJvb2xlYW4pO1xyXG4gIGNvbnN0IGF2Z0xlbiA9IHNlbnRlbmNlcy5sZW5ndGggPyB0ZXh0LnNwbGl0KC9cXHMrLykubGVuZ3RoIC8gc2VudGVuY2VzLmxlbmd0aCA6IDE4O1xyXG4gIGxldCBzY29yZSA9IDEwMDtcclxuICBpZiAoYXZnTGVuID4gMjgpIHNjb3JlIC09IE1hdGgubWluKDQwLCAoYXZnTGVuIC0gMjgpICogMik7XHJcbiAgY29uc3QgcGFzc2l2ZSA9ICh0ZXh0Lm1hdGNoKC9cXGIod2FzfHdlcmV8YmVlbnxiZWluZ3xiZSlcXGJcXHMrXFx3K2VkXFxiL2dpKSB8fCBbXSkubGVuZ3RoO1xyXG4gIHNjb3JlIC09IE1hdGgubWluKDMwLCBwYXNzaXZlKjMpO1xyXG4gIHJldHVybiBjbGFtcChNYXRoLnJvdW5kKHNjb3JlKSwgMCwgMTAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gd2VpZ2h0ZWQocGFpcnM6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+KTogbnVtYmVyIHtcclxuICBjb25zdCBzdW1XID0gcGFpcnMucmVkdWNlKChhLFssd10pPT5hK3csMCkgfHwgMTtcclxuICBjb25zdCB2ID0gcGFpcnMucmVkdWNlKChhLFtzLHddKT0+YSsocyp3KSwwKSAvIHN1bVc7XHJcbiAgcmV0dXJuIGNsYW1wKE1hdGgucm91bmQodiksIDAsIDEwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsYW1wKG46IG51bWJlciwgbG86IG51bWJlciwgaGk6IG51bWJlcikgeyByZXR1cm4gTWF0aC5tYXgobG8sIE1hdGgubWluKGhpLCBuKSk7IH1cclxuXHJcbi8vID09PT09PT09PT09IEZsYWdzLCBmaXhlcywgcmV3cml0ZXMsIHN1bW1hcnkgPT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIGJ1aWxkRmxhZ3MocmF3OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgY29uc3QgZmxhZ3M6IHN0cmluZ1tdID0gW107XHJcbiAgY29uc3QgciA9IHJhdy50b0xvd2VyQ2FzZSgpO1xyXG4gIGlmICghL1xcYnN1bW1hcnl8b2JqZWN0aXZlXFxiLy50ZXN0KHIpKSBmbGFncy5wdXNoKFwiQWRkIGEgYnJpZWYgUHJvZmVzc2lvbmFsIFN1bW1hcnkgKDLigJMzIGxpbmVzKS5cIik7XHJcbiAgaWYgKCEvXFxiZWR1Y2F0aW9uXFxiLy50ZXN0KHIpKSBmbGFncy5wdXNoKFwiQWRkIGFuIEVkdWNhdGlvbiBzZWN0aW9uLlwiKTtcclxuICBpZiAoIS9cXGJleHBlcmllbmNlfGVtcGxveW1lbnR8d29yayBoaXN0b3J5XFxiLy50ZXN0KHIpKSBmbGFncy5wdXNoKFwiQWRkIGFuIEV4cGVyaWVuY2Ugc2VjdGlvbi5cIik7XHJcbiAgaWYgKCEvXFxic2tpbGxzXFxiLy50ZXN0KHIpKSBmbGFncy5wdXNoKFwiQWRkIGEgU2tpbGxzIHNlY3Rpb24uXCIpO1xyXG4gIGNvbnN0IGJ1bGxldHMgPSAocmF3Lm1hdGNoKC9bLSrigKLilqril49dL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgaWYgKGJ1bGxldHMgPCA2KSBmbGFncy5wdXNoKFwiVXNlIGJ1bGxldCBwb2ludHMgZm9yIHJlYWRhYmlsaXR5IGFuZCBzY2FubmFiaWxpdHkuXCIpO1xyXG4gIGlmICghL1xcYlxcZHszfVstIC5dP1xcZHszfVstIC5dP1xcZHs0fVxcYi8udGVzdChyKSAmJiAhL1xcYlthLXowLTkuXyUrLV0rQFthLXowLTkuLV0rXFwuW2Etel17Mix9XFxiLy50ZXN0KHIpKSB7XHJcbiAgICBmbGFncy5wdXNoKFwiRW5zdXJlIGNvbnRhY3QgaW5mbyAoZW1haWwvcGhvbmUpIGlzIHByZXNlbnQgYW5kIHNlbGVjdGFibGUuXCIpO1xyXG4gIH1cclxuICByZXR1cm4gZmxhZ3Muc2xpY2UoMCwgMTApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdWdnZXN0UmV3cml0ZXMocmF3OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgLy8gVHJhbnNmb3JtIHNvbWUgbGluZXMgaW50byBtZXRyaWMtbGVkLCB2ZXJiLWZpcnN0IGJ1bGxldHNcclxuICBjb25zdCBsaW5lcyA9IHJhdy5zcGxpdCgvXFxyP1xcbi8pLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgY29uc3Qgb3V0OiBzdHJpbmdbXSA9IFtdO1xyXG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgaWYgKGxpbmUubGVuZ3RoIDwgNDAgfHwgb3V0Lmxlbmd0aCA+PSA2KSBjb250aW51ZTtcclxuICAgIGNvbnN0IHJld3JpdHRlbiA9IHJld3JpdGVMaW5lKGxpbmUpO1xyXG4gICAgaWYgKHJld3JpdHRlbikgb3V0LnB1c2gocmV3cml0dGVuKTtcclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmV3cml0ZUxpbmUobGluZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgLy8gSWYgbGluZSBsYWNrcyBhIG1ldHJpYywgYWRkIGEgbWV0cmljIHByb21wdFxyXG4gIGNvbnN0IHN0YXJ0c1Bhc3NpdmUgPSAvXFxiKHdhc3x3ZXJlfGJlZW58YmVpbmd8YmUpXFxiL2kudGVzdChsaW5lKTtcclxuICBjb25zdCBoYXNNZXRyaWMgPSAvXFxiXFxkKyhcXC5cXGQrKT8lfFxcYlxcZHsyLH0oPzprfG0pP1xcYi9pLnRlc3QobGluZSk7XHJcbiAgbGV0IGJhc2UgPSBsaW5lLnJlcGxhY2UoL15bLSrigKLilqril49dXFxzKi8sIFwiXCIpLnRyaW0oKTtcclxuICBpZiAoc3RhcnRzUGFzc2l2ZSkgYmFzZSA9IGJhc2UucmVwbGFjZSgvXFxiKHdhc3x3ZXJlfGJlZW58YmVpbmd8YmUpXFxiXFxzKi9pLCBcIlwiKTtcclxuICBjb25zdCB0bXBsID0gYOKAoiAke2NhcGl0YWxpemUoZmlyc3RWZXJiKGJhc2UpKX0gJHtyZXN0QWZ0ZXJGaXJzdFZlcmIoYmFzZSl9JHtoYXNNZXRyaWMgPyBcIlwiIDogXCIg4oCUIHF1YW50aWZ5IGltcGFjdCAoJSwgJCwgdGltZSwgb3Igdm9sdW1lKS5cIn1gXHJcbiAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcclxuICAgIC50cmltKCk7XHJcbiAgcmV0dXJuIHRtcGwubGVuZ3RoID4gNDAgPyB0bXBsIDogbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlyc3RWZXJiKHM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3Qgd29yZHMgPSBzLnNwbGl0KC9cXHMrLyk7XHJcbiAgY29uc3QgdyA9IHdvcmRzWzBdIHx8IFwiRGVsaXZlcmVkXCI7XHJcbiAgcmV0dXJuIGNhcGl0YWxpemUody5yZXBsYWNlKC9bXlxcdy1dL2csXCJcIikpO1xyXG59XHJcbmZ1bmN0aW9uIHJlc3RBZnRlckZpcnN0VmVyYihzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBzLnNwbGl0KC9cXHMrLykuc2xpY2UoMSkuam9pbihcIiBcIikgfHwgXCJtZWFzdXJhYmxlIG91dGNvbWVzIGZvciBzdGFrZWhvbGRlcnMuXCI7XHJcbn1cclxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzOiBzdHJpbmcpIHsgcmV0dXJuIHMgPyBzWzBdLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpIDogczsgfVxyXG5cclxuZnVuY3Rpb24gYnVpbGRTdW1tYXJ5KHJlc3VtZVJhdzogc3RyaW5nLCBqZFJhdzogc3RyaW5nLCBrd1Njb3JlOiBudW1iZXIsIG1hdGNoZWRDb3VudDogbnVtYmVyKTogc3RyaW5nIHtcclxuICBjb25zdCBmb2N1cyA9IGt3U2NvcmUgPj0gNjAgPyBcInN0cm9uZyBhbGlnbm1lbnRcIiA6IGt3U2NvcmUgPj0gMzUgPyBcInBhcnRpYWwgYWxpZ25tZW50XCIgOiBcImZvdW5kYXRpb25hbCBhbGlnbm1lbnRcIjtcclxuICByZXR1cm4gYFJlc3VsdHMtZHJpdmVuIHByb2Zlc3Npb25hbCB3aXRoICR7Zm9jdXN9IHRvIHRoZSByb2xlOyBtYXRjaGVkICR7bWF0Y2hlZENvdW50fSBKRCB0ZXJtcy4gRW1waGFzaXplIHF1YW50aWZpZWQgb3V0Y29tZXMgYW5kIHRoZSBtb3N0IHJlbGV2YW50IHRvb2xzL2ZyYW1ld29ya3MgcmVmZXJlbmNlZCBpbiB0aGUgam9iIGRlc2NyaXB0aW9uLmA7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09IFBJSSBSZWRhY3Rpb24gKHBvc3QtYW5hbHlzaXMpID09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiByZWRhY3Qoczogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gc1xyXG4gICAgLnJlcGxhY2UoL1xcYlthLXowLTkuXyUrLV0rQFthLXowLTkuLV0rXFwuW2Etel17Mix9XFxiL2dpLCBcIltSRURBQ1RFRF9FTUFJTF1cIilcclxuICAgIC5yZXBsYWNlKC9cXGIoPzpcXCs/MVstLlxcc10/KT9cXCg/XFxkezN9XFwpP1stLlxcc10/XFxkezN9Wy0uXFxzXT9cXGR7NH1cXGIvZywgXCJbUkVEQUNURURfUEhPTkVdXCIpXHJcbiAgICAucmVwbGFjZSgvXFxiaHR0cHM/OlxcL1xcL1xcUytcXGIvZ2ksIFwiW1JFREFDVEVEX1VSTF1cIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdpdGhEZWZhdWx0V2VpZ2h0cyh3PzogQW5hbHl6ZUlucHV0W1wid2VpZ2h0c1wiXSkge1xyXG4gIHJldHVybiB7XHJcbiAgICBhdHM6IHc/LmF0cyA/PyAwLjMsXHJcbiAgICBrZXl3b3JkX21hdGNoOiB3Py5rZXl3b3JkX21hdGNoID8/IDAuMzUsXHJcbiAgICBpbXBhY3Q6IHc/LmltcGFjdCA/PyAwLjIsXHJcbiAgICBjbGFyaXR5OiB3Py5jbGFyaXR5ID8/IDAuMTUsXHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsiYW5hbHl6ZSIsImlucHV0IiwicmVkYWN0UElJIiwid2VpZ2h0cyIsIndpdGhEZWZhdWx0V2VpZ2h0cyIsInJlc3VtZU4iLCJub3JtYWxpemUiLCJyZXN1bWVUZXh0IiwiamROIiwiamQiLCJyZXN1bWVUb2tlbnMiLCJ0b2tlbml6ZSIsImpkVG9rZW5zIiwicmVzdW1lU2V0IiwidG9TZXQiLCJqZFNldCIsImpkS2V5UGhyYXNlcyIsImV4dHJhY3RLZXlQaHJhc2VzIiwicmVzS2V5UGhyYXNlcyIsIm1hdGNoZWQiLCJtaXNzaW5nIiwibWF0Y2hLZXl3b3JkcyIsImF0c1Njb3JlIiwic2NvcmVBVFMiLCJpbXBhY3RTY29yZSIsInNjb3JlSW1wYWN0IiwiY2xhcml0eVNjb3JlIiwic2NvcmVDbGFyaXR5Iiwia2V5d29yZFNjb3JlIiwiTWF0aCIsInJvdW5kIiwibGVuZ3RoIiwibWF4Iiwib3ZlcmFsbCIsIndlaWdodGVkIiwiYXRzIiwia2V5d29yZF9tYXRjaCIsImltcGFjdCIsImNsYXJpdHkiLCJmbGFncyIsImJ1aWxkRmxhZ3MiLCJmaXhfbGlzdCIsIm1hcCIsImYiLCJzdWdnZXN0ZWRfcmV3cml0ZXMiLCJzdWdnZXN0UmV3cml0ZXMiLCJ0YWlsb3JlZF9zdW1tYXJ5IiwiYnVpbGRTdW1tYXJ5IiwicG9zdFByb2Nlc3MiLCJzIiwicmVkYWN0Iiwic2NvcmVzIiwibWF0Y2hlZF9rZXl3b3JkcyIsIm1pc3Npbmdfa2V5d29yZHMiLCJyYXciLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwiU1RPUCIsIlNldCIsIkFMSUFTIiwiYWxpYXMiLCJ0b2siLCJucm0iLCJ3b3JkcyIsInNwbGl0IiwiZmlsdGVyIiwidyIsImhhcyIsImJpZ3JhbXMiLCJpIiwicHVzaCIsInRva2VucyIsInQiLCJiYXNlIiwiYWRkIiwicGhyYXNlcyIsImluY2x1ZGVzIiwidGVzdCIsIm5lYXIiLCJhIiwiYiIsImxhIiwibGIiLCJhYnMiLCJkaWZmIiwiaiIsImpkUGhyYXNlcyIsInJlc1BocmFzZXMiLCJyZXNTZXQiLCJyZXNQaHJhc2VTZXQiLCJwIiwiZm91bmQiLCJzb21lIiwicSIsInVuaXEiLCJhcnIiLCJBcnJheSIsImZyb20iLCJzbGljZSIsIm0iLCJyZXN1bWVSYXciLCJyIiwicHRzIiwiY2xhbXAiLCJsb3dlciIsImFjdGlvblZlcmJzIiwidmVyYkhpdHMiLCJyZWR1Y2UiLCJhY2MiLCJ2IiwibWV0cmljc0hpdHMiLCJtYXRjaCIsImJ1bGxldHMiLCJtaW4iLCJmbG9vciIsInRleHQiLCJzZW50ZW5jZXMiLCJCb29sZWFuIiwiYXZnTGVuIiwic2NvcmUiLCJwYXNzaXZlIiwicGFpcnMiLCJzdW1XIiwibiIsImxvIiwiaGkiLCJsaW5lcyIsIm91dCIsImxpbmUiLCJyZXdyaXR0ZW4iLCJyZXdyaXRlTGluZSIsInN0YXJ0c1Bhc3NpdmUiLCJoYXNNZXRyaWMiLCJ0bXBsIiwiY2FwaXRhbGl6ZSIsImZpcnN0VmVyYiIsInJlc3RBZnRlckZpcnN0VmVyYiIsImpvaW4iLCJ0b1VwcGVyQ2FzZSIsImpkUmF3Iiwia3dTY29yZSIsIm1hdGNoZWRDb3VudCIsImZvY3VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/analyze.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5COneDrive%5CDocuments%5CGitHub%5Cresume-ats-reviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();